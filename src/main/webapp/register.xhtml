<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>Criar Conta</title>
    <meta content=""/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <!-- ✅ CORREÇÃO: Caminho correto do CSS -->
    <h:outputStylesheet library="css" name="register.css"/>

</h:head>

<h:body>
    <div class="main-container">
        <div class="form-section">
            <h1 class="login-title">
                Crie sua conta
                <span class="gradient-dot"></span>
            </h1>

            <h:form id="registerForm" styleClass="login-form">
                <h:panelGroup rendered="#{registerBean.showMessage}">
                    <div class="alert #{registerBean.success ? 'alert-success' : 'alert-error'}">
                        #{registerBean.message}
                    </div>
                </h:panelGroup>

                <div class="form-inputs-wrapper">

                        <div class="input-group">
                            <label class="input-label" for="registerForm:username">Nome de usuário</label>
                            <div class="input-container">
                                <p:inputText id="username" value="#{registerBean.username}" styleClass="auth-input"
                                             required="true"/>
                            </div>
                            <p:message for="username"/>
                        </div>

                        <div class="input-group">
                            <label class="input-label" for="registerForm:email">Email</label>
                            <div class="input-container">
                                <p:inputText id="email" value="#{registerBean.email}" styleClass="auth-input"
                                             required="true"/>
                            </div>
                            <p:message for="email"/>
                        </div>


                    <div class="row-double-input">
                        <div class="input-group">
                            <label class="input-label" for="registerForm:firstName">Nome</label>
                            <div class="input-container">
                                <p:inputText id="firstName" value="#{registerBean.firstName}" styleClass="auth-input"
                                             required="true"/>
                            </div>
                            <p:message for="firstName"/>
                        </div>

                        <div class="input-group">
                            <label class="input-label" for="registerForm:lastName">Sobrenome</label>
                            <div class="input-container">
                                <p:inputText id="lastName" value="#{registerBean.lastName}" styleClass="auth-input"
                                             required="true"/>
                            </div>
                            <p:message for="lastName"/>
                        </div>
                    </div>


                    <div class="row-address">

                        <div class="input-group">
                            <label class="input-label" for="registerForm:cep">CEP</label>
                            <div class="input-container">
                                <p:inputText id="cep" value="#{registerBean.cep}" styleClass="auth-input"
                                             required="true"/>
                            </div>
                            <p:message for="cep"/>
                        </div>

                        <div class="input-group">
                            <label class="input-label" for="#">Rua</label>
                            <div>
                                <p:inputText value="#" styleClass="auth-input"
                                             required="true"/>
                            </div>
                            <p:message for="cep"/>
                        </div>

                        <div class="input-group">
                            <label class="input-label" for="#">Número</label>
                            <div>
                                <p:inputText value="#" styleClass="auth-input"
                                             maxlength="5" required="true"/>
                            </div>
                            <p:message for="cep"/>
                        </div>

                    </div>


                    <div class="row-address">
                        <div class="input-group">
                            <label class="input-label" for="#">Bairro</label>
                            <div>
                                <p:inputText value="#" styleClass="auth-input"
                                             required="true"/>
                            </div>
                            <p:message for="cep"/>
                        </div>

                        <div class="input-group">
                            <label class="input-label" for="#">Cidade</label>
                            <div>
                                <p:inputText value="#" styleClass="auth-input"
                                             required="true"/>
                            </div>
                            <p:message for="cep"/>
                        </div>

                        <div class="input-group">
                            <label class="input-label" for="#">UF</label>
                            <div>
                                <p:inputText value="#" styleClass="auth-input"
                                             maxlength="2" required="true"/>
                            </div>
                            <p:message for="cep"/>
                        </div>
                    </div>





                    <div class="input-group">
                        <label class="input-label" for="registerForm:cargo">Cargo</label>
                        <div class="input-container">
                            <p:selectOneMenu id="cargo"
                                             value="#{registerBean.cargo}"
                                             styleClass="auth-input"
                                             required="true"
                                             appendTo="@(body)"> <f:selectItem itemLabel="Selecione um cargo..."
                                                                               itemValue="" noSelectionOption="true"/>
                                <f:selectItem itemLabel="Operacional" itemValue="OPERATIONAL"/>
                                <f:selectItem itemLabel="Moderador" itemValue="MOD"/>
                                <f:selectItem itemLabel="Administrador" itemValue="ADMIN"/>
                            </p:selectOneMenu>
                        </div>
                        <p:message for="cargo"/>
                    </div>

                    <div class="input-group">
                        <label class="input-label" for="registerForm:password">Senha</label>
                        <div class="input-container">
                            <p:password id="password" value="#{registerBean.password}" styleClass="auth-input"
                                        required="true"/>
                        </div>
                        <p:message for="password"/>
                    </div>

                    <div class="input-group">
                        <label class="input-label" for="registerForm:confirmPassword">Confirmar senha</label>
                        <div class="input-container">
                            <p:password id="confirmPassword" value="#{registerBean.confirmPassword}"
                                        styleClass="auth-input" required="true"/>
                        </div>
                        <p:message for="confirmPassword"/>
                    </div>
                </div>
                <p:commandButton value="Criar conta"
                                 action="#{registerBean.register}"
                                 styleClass="login-btn"
                                 update="@form"
                                 process="@form"/>

                <h:link value="Já tenho uma conta"
                        styleClass="register-link"
                        outcome="login"/>
            </h:form>
        </div>
        <!-- ✅ CORREÇÃO: Imagem direto no XHTML -->
        <div class="picture-section">
            <h:graphicImage library="img"
                            name="bg.jpg"
                            styleClass="background-image"
                            alt="Background"/>
        </div>
    </div>
</h:body>
</html>
